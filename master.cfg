import json

import slaves
reload(slaves)

import changesources
reload(changesources)

import schedulers
reload(schedulers)

import builders
reload(builders)

import statustargets
reload(statustargets)

import repos
reload(repos)

config = {}
with open("config.json") as f:
    config = json.load(f)

c = BuildmasterConfig = {}

c["title"] = "Sugar"
c["titleURL"] = "http://sugarlabs.org"
c["buildbotURL"] = "http://buildbot.sugarlabs.org/"
c["db"] = {"db_url" : "sqlite:///state.sqlite"}

repos.load(config)

slaves.setup(c, config)
changesources.setup(c, config)
schedulers.setup(c, config)
builders.setup(c, config)
statustargets.setup(c, config)
